!function(a,b){"use strict";var c=function(a){for(var b=a.childNodes,c=0,g=b.length;g>c;c++)"#text"!==b[c].nodeName&&d.elementsArray.push(b[c]);d.currentElement=d.elementsArray[0],f.zIndex(d.currentElement,1).drop(d.currentElement);for(var h=0,i=d.elementsArray.length;i>h;h++)d.elementsArray[h].addEventListener("mousedown",e.tiltHandler,!1),d.elementsArray[h].addEventListener("flipComplete",e.dropHandler,!1)},d={currentElement:null,nextElement:null,elementsArray:[],tiltStart:0,tiltStop:0,tiltProgress:0},e={tiltHandler:function(a){a.preventDefault(),f.stop().tilt(this)},flipHandler:function(){b.removeEventListener("mouseup",e.flipHandler),f.stop().flip(d.currentElement,f._flipEnergy())},dropHandler:function(){d.nextElement=d.elementsArray[d.elementsArray.indexOf(d.currentElement)+1===d.elementsArray.length?0:d.elementsArray.indexOf(d.currentElement)+1],f.stop().zIndex(d.currentElement,1).zIndex(d.nextElement,2).drop(d.nextElement).reset(d.currentElement,100),d.currentElement=d.nextElement}},f={id:0,stop:function(){return f.id&&a.cancelAnimationFrame(f.id),this},reset:function(a,b){return setTimeout(function(){g.reset(a)},b),this},zIndex:function(a,b){return g.zIndex(a,b),this},tilt:function(c,h,i){var j=c,k=h||0,l=600,m=.25,n=i||{},o=[],p=n.initialMatrix||g.getComputedMatrix(j),q=n.rY||g.baseMatrix.slice(0),r=f._easeOut(k/l)*Math.PI*m,s=new CustomEvent("tiltComplete");return d.tiltStart=0===k?(new Date).getTime():d.tiltStart,b.addEventListener("mouseup",e.flipHandler,!1),q[0]=Math.cos(r),q[2]=-Math.sin(r),q[8]=Math.sin(r),q[10]=Math.cos(r),o=g.x(p,q),l>=k?(f._setFrame(j,o),d.tiltProgress=f._easeOut(k/l)*m,k+=1,f.id=a.requestAnimationFrame(function(){f.tilt(j,k,{initialMatrix:p,rY:q})})):(a.cancelAnimationFrame(f.id),j.dispatchEvent(s)),this},flip:function(b,c,e,h){var i=b,j=e||0,k=h||{},l=[],m=k.initialMatrix||g.getComputedMatrix(i),n=k.rY||g.baseMatrix.slice(0),o=c.ease(j/c.duration)*Math.PI*(c.rotation+d.tiltProgress),p=new CustomEvent("flipComplete");return n[0]=Math.cos(o),n[2]=Math.sin(o),n[8]=-Math.sin(o),n[10]=Math.cos(o),l=g.x(m,n),c.duration>=j?(f._setFrame(i,l),j+=1,f.id=a.requestAnimationFrame(function(){f.flip(i,c,j,{initialMatrix:m,rY:n})})):(a.cancelAnimationFrame(f.id),i.dispatchEvent(p)),this},drop:function(b,c,d){var e=b,h=c||0,i=100,j=d||{},k=[],l=j.initialMatrix||g.getComputedMatrix(e),m=j.tZ||g.baseMatrix.slice(0);return m[15]=-f._easeOutElastic(h/i),k=g.x(l,m),1>=h/i?(f._setFrame(e,k),h+=1,f.id=a.requestAnimationFrame(function(){f.drop(e,h,{initialMatrix:l,tZ:m})})):(k[15]=1,f._setFrame(e,k),a.cancelAnimationFrame(f.id)),this},_flipEnergy:function(){var a=0,b=0,c={};return d.tiltStop=(new Date).getTime(),a=d.tiltStop-d.tiltStart,b=a/1e4,c.duration=Math.floor(180*b+60),c.rotation=Math.floor(31*b)%2===1?Math.floor(31*b):Math.floor(31*b)+1,c.ease=1===c.rotation?f._easeInOut:f._easeOut,c},_easeOut:function(a){return Math.pow(a,1/6)},_easeInOut:function(a){var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(0>d?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},_easeOutElastic:function(a){return Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1},_setFrame:function(a,b){var c="matrix3d("+b+")";a.style["-webkit-transform"]=c,a.style["-moz-transform"]=c,a.style["-o-transform"]=c,a.style["-ms-transform"]=c,a.style.transform=c}},g={baseMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],reset:function(a){a.style["-webkit-transform"]=null,a.style["-moz-transform"]=null,a.style["-o-transform"]=null,a.style["-ms-transform"]=null,a.style.transform=null,a.style.zIndex=null},zIndex:function(a,b){a.style.zIndex=b},getComputedMatrix:function(b){var c=a.getComputedStyle(b),d=c.transform||c["-webkit-transform"]||c["-moz-transform"]||c["-o-transform"]||c["-ms-transform"],e=d.length;if("matrix3d"===d.substr(0,8)){d=d.substr(8).replace(/[\(\)]/g,"").split(",");for(var f=0;e>f;f++)d[f]=+d[f]}else if("matrix("===d.substr(0,7)){d=d.substr(6).replace(/[\(\)]/g,"").split(",");for(var h=0;e>h;h++)d[h]=+d[h];d=[d[0],d[1],0,0,d[2],d[3],0,0,0,0,1,0,d[4],d[5],0,1]}else d=g.baseMatrix.slice(0);return d},translateOrigin:function(b,c,d){var e=b,f={},g="",h=a.getComputedStyle(e);f.string=h["transform-origin"]||h.transformOrigin||h["-webkit-transform-origin"]||h["-moz-transform-origin"]||h["-o-transform-origin"]||h["-ms-transform-origin"],f.array=f.string.split(" "),f.x=+f.array[0].substr(0,f.array[0].length-2),f.y=+f.array[1].substr(0,f.array[1].length-2),g=f.x+c+"px "+(f.y+d)+"px",e.style["-webkit-transform-origin"]=g,e.style["-moz-transform-origin"]=g,e.style["-o-transform-origin"]=g,e.style["-ms-transform-origin"]=g,e.style["transform-origin"]=g,e.style.transformOrigin=g},x:function(a,b){return[a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12],a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13],a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14],a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15],a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12],a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13],a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14],a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15],a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12],a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13],a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14],a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15],a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12],a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13],a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14],a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15]]}},h=function(){this.run=!0,c(b.getElementById("slider"))};a.addEventListener?a.addEventListener("load",h,!1):a.attachEvent&&a.attachEvent("onload",h),"complete"!==b.readyState||h.run||h()}(this,document);